<!DOCTYPE html>
<html lang="ru">

<head>
 <style class="vjs-styles-defaults">
  .video-js {
   width: 300px;
   height: 150px;
  }

  .vjs-fluid {
   padding-top: 56.25%
  }
 </style>
 <style class="vjs-styles-dimensions">
  .vjs_video_1631-dimensions {
   width: 720px;
   height: 1280px;
  }

  .vjs_video_1631-dimensions.vjs-fluid {
   padding-top: 177.77777777777777%;
  }
 </style>
 <style class="vjs-styles-dimensions">
  .vjs_video_1094-dimensions {
   width: 720px;
   height: 1280px;
  }

  .vjs_video_1094-dimensions.vjs-fluid {
   padding-top: 177.77777777777777%;
  }
 </style>
 <style class="vjs-styles-dimensions">
  .vjs_video_557-dimensions {
   width: 720px;
   height: 1280px;
  }

  .vjs_video_557-dimensions.vjs-fluid {
   padding-top: 177.77777777777777%;
  }
 </style>
 <style class="vjs-styles-dimensions">
  .vjs_video_3-dimensions {
   width: 720px;
   height: 1280px;
  }

  .vjs_video_3-dimensions.vjs-fluid {
   padding-top: 177.77777777777777%;
  }
 </style>
 <meta charset="UTF-8">
 <title>Вникай</title>
 <meta name="viewport" content="width=device-width,initial-scale=1">
 <link rel="icon" href="../favicon.svg">
 <link rel="stylesheet" type="text/css" href="https://dev.vnikay.ru/css/style.css" />
 <script type="text/javascript" src="https://dev.vnikay.ru/js/inputmask.min.js"></script>
 <script type="text/javascript" src="https://dev.vnikay.ru/js/functions.js"></script>



 <link rel="stylesheet" type="text/css" href="https://dev.vnikay.ru/css/video-js.min.css">
 <script type="text/javascript" src="https://dev.vnikay.ru/js/video.min.js"></script>





 <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap" rel="stylesheet">
 <link href="https://fonts.cdnfonts.com/css/sf-pro-display" rel="stylesheet">

 <link rel="stylesheet" href="assets/css/style.css">
 <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
 <script src="assets/scripts/script.js"></script>
</head>

<body>
 <header class="header">
  <div class="header__inner">
   <a class="header__logo" href="/"></a>
   <div class="locale-container">
    <div class="locale">
     <div class="locale__value" data-value="ru">
      <div class="ru">
       <span class="icon_flag ru"></span>
       Русский
      </div>
      <div class="az">
       <span class="icon_flag az"></span>
       Azərbaycan
      </div>
      <div class="ky">
       <span class="icon_flag ky"></span>
       Кыргызча
      </div>
      <div class="uz">
       <span class="icon_flag uz"></span>
       Oʻzbekcha
      </div>
      <div class="tg">
       <span class="icon_flag tg"></span>
       Tоҷикӣ
      </div>
      <svg viewBox="0 0 24 24" class="icon">
       <use xlink:href="images/sprite.svg#icon_dropdown" />
      </svg>
     </div>
     <div class="locale__dropdown">
      <div class="locale__dropdown__item" data-value="ru">
       <span class="icon_flag ru"></span>
       Русский
      </div>
      <div class="locale__dropdown__item" data-value="az">
       <span class="icon_flag az"></span>
       Azərbaycan
      </div>
      <div class="locale__dropdown__item" data-value="ky">
       <span class="icon_flag ky"></span>
       Кыргызча
      </div>
      <div class="locale__dropdown__item" data-value="uz">
       <span class="icon_flag uz"></span>
       Oʻzbekcha
      </div>
      <div class="locale__dropdown__item" data-value="tg">
       <span class="icon_flag tg"></span>
       Tоҷикӣ
      </div>
     </div>
    </div>
   </div>
   <div class="header__user">
    <img class="header__user__avatar" alt="" src="https://dev.vnikay.ru/images/user.svg" />
    <span class="header__user__name">Мой профиль</span>
    <svg viewBox="0 0 32 32" class="header__user__icon header__user__icon_toggle">
     <use xlink:href="images/sprite.svg#icon_arrow-down" />
    </svg>
    <svg viewBox="0 0 40 41" class="header__user__icon header__user__icon_hamburger">
     <use xlink:href="images/sprite.svg#icon_menu" />
    </svg>
   </div>
   <menu class="header__menu">
    <a class="header__menu__item" href="/password">
     <svg viewBox="0 0 35 35">
      <use xlink:href="images/sprite.svg#icon_lock" />
     </svg>
     <span>Изменить пароль</span>
    </a>
    <a class="header__menu__item" href="/logout">
     <svg viewBox="0 0 23 26">
      <use xlink:href="images/sprite.svg#icon_exit" />
     </svg>
     <span>Выход</span>
    </a>
   </menu>
  </div>
 </header>



 <div class="back">
  <div class="back__wrap">

   <svg viewBox="0 0 24 7" class="icon">
    <use xlink:href="images/second-sprite.svg#back-arrow" />
   </svg>

   <a href="#" class="back__link">Назад</a>
  </div>
 </div>












 <main class="main lesson">
  <section class="wrapper">
   <div class="lesson__header">
    <div class="lesson__number">
     Буквы и звуки: А-Й
    </div>
    <div class="lesson__title">
     <span>Буква А</span>
     <div class="lesson__navigation">
      <a href="https://dev.vnikay.ru/lessons/" class="lesson__arrow lesson__prev disabled">
       <svg viewBox="0 0 15 13" style="transform: rotate(180deg)">
        <path d="M7.14758 4.26816H12.5001C13.5421 4.26816 14.3947 5.10346 14.3947 6.12437C14.3947 7.14529 13.5421 7.98059 12.5001 7.98059H7.14758V11.3032C7.14758 12.1385 6.12447 12.5469 5.53713 11.9529L0.269988 6.77405C-0.0899961 6.40281 -0.0899961 5.82738 0.269988 5.45614L5.53713 0.277308C6.12447 -0.316679 7.14758 0.110248 7.14758 0.926981V4.26816Z" fill="white" />
       </svg>
      </a>
      <a href="#" class="lesson__list-button">
       <svg viewBox="0 0 15 15">
        <use xlink:href="images/second-sprite.svg#lesson-arrow-list" />
       </svg>
       <svg viewBox="0 0 15 15">
        <use xlink:href="images/second-sprite.svg#lesson-arrow-list-close" />
       </svg>
      </a>
      <a href="https://dev.vnikay.ru/lessons/2" class="lesson__arrow lesson__next">
       <svg viewBox="0 0 15 14">
        <path d="M7.85242 8.73184L2.49992 8.73184C1.45786 8.73184 0.605268 7.89654 0.605268 6.87562C0.605268 5.85471 1.45786 5.01941 2.49992 5.01941L7.85242 5.01941L7.85242 1.6968C7.85242 0.861501 8.87553 0.453133 9.46287 1.04712L14.73 6.22595C15.09 6.59719 15.09 7.17262 14.73 7.54386L9.46287 12.7227C8.87553 13.3167 7.85242 12.8898 7.85242 12.073L7.85242 8.73184Z" fill="white" />
       </svg>
      </a>
     </div>
    </div>

    <div class="lesson__progress-info">
     Пройдено 1 / 11
    </div>







    <div class="lesson__list">

     <a href="#" class="lesson__list-item  active">
      Буква
      <span>A</span>

     </a>

     <a href="#" class="lesson__list-item ">
      Буква
      <span>Б</span>

     </a>

     <a href="#" class="lesson__list-item ">
      Буква
      <span>В</span>

     </a>

     <a href="#" class="lesson__list-item ">
      Буква
      <span>Г</span>

     </a>

     <a href="#" class="lesson__list-item ">
      Буква
      <span>Д</span>

     </a>

     <a href="#" class="lesson__list-item ">
      Буква
      <span>Е</span>

     </a>

     <a href="#" class="lesson__list-item ">
      Буква
      <span>Ё</span>

     </a>

     <a href="#" class="lesson__list-item ">
      Буква
      <span>Ж</span>

     </a>

     <a href="#" class="lesson__list-item ">
      Буква
      <span>З</span>

     </a>

     <a href="#" class="lesson__list-item ">
      Буква
      <span>И</span>

     </a>

     <a href="#" class="lesson__list-item ">
      Буква
      <span>Й</span>

     </a>



    </div>


   </div>
   <div class="lesson__progress progress-line" data-general="11" data-done="1">
    <div class="progress-line__done">

    </div>
   </div>




   <div id="lesson-1" class="lesson__item">
    <div class="lesson__item-n">
     <span>1.1 Видео с названием</span>

     <svg viewBox="0 0 34 34" id="play_icon_2" style="display:inline">
      <use xlink:href="images/sprite.svg#icon_process"></use>
     </svg>
     <svg viewBox="0 0 25 24" id="pause_icon_2" style="display:none">
      <use xlink:href="images/sprite.svg#icon_pause"></use>
     </svg>
     <svg viewBox="0 0 25 24" id="done_icon_2" style="display:none">
      <use xlink:href="images/sprite.svg#icon_done"></use>
     </svg>





    </div>


    <div class="lesson__item-subtitle">
     Выполнить задание


    </div>

    <div class="lesson__item__video">
     <video data-id="7" data-bookmark="0.0" data-progress="Play" data-src="/lessons/api/video/7.m3u8" controls class="lesson__video video-js vjs-big-play-centered vjs-fill" data-setup='{ "playbackRates": [0.5, 1, 1.5, 2] }'>
      Your browser does not support the video tag.
      <source src="/lessons/api/video/7.m3u8" type="application/x-mpegURL" />
      <track kind="subtitles" src="https://vnikay-dev.storage.yandexcloud.net/russiancourse/M01/L02/subtitles_03.vtt?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Date=20230413T053628Z&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Expires=86400&amp;X-Amz-Credential=Hm_j0W3MfuF8lw_fFiop%2F20230413%2Fru-central1%2Fs3%2Faws4_request&amp;X-Amz-Signature=11a9387052241b3e2da4bdec4e4c2eb7ecd8805b19efbfc94f72d1bf62a67ab2" srclang="ru" label="Русский" default>
     </video>
     <div class="lesson__item__arrows">
      <a href="#lesson-2" class="lesson__item__arrow lesson__item__arrow--next">
       <svg viewBox="0 0 53 54">
        <use xlink:href="images/second-sprite.svg#player-arrow-next" />
        </use>
       </svg>

      </a>
      <a href="#lesson-0" class="lesson__item__arrow lesson__item__arrow--prev">
       <svg viewBox="0 0 53 54">
        <use xlink:href="images/second-sprite.svg#player-arrow-prev" />
        </use>
       </svg>
      </a>
     </div>
    </div>
   </div>

   <div id="lesson-2" class="lesson__item">
    <div class="lesson__item-n">
     <span>1.2 Видео с названием</span>



     <svg viewBox="0 0 34 34" id="play_icon_2" style="display:none">
      <use xlink:href="images/sprite.svg#icon_process"></use>
     </svg>
     <svg viewBox="0 0 25 24" id="pause_icon_2" style="display:none">
      <use xlink:href="images/sprite.svg#icon_pause"></use>
     </svg>
     <svg viewBox="0 0 25 24" id="done_icon_2" style="display:inline">
      <use xlink:href="images/sprite.svg#icon_done"></use>
     </svg>



    </div>


    <div class="lesson__item-subtitle">
     Задание выполнено


     <img src="images/lesson/like.png" style="margin-left: 5px" alt="" />

    </div>

    <div class="lesson__item__video">
     <video data-id="7" data-bookmark="0.0" data-progress="Play" data-src="/lessons/api/video/7.m3u8" controls class="lesson__video video-js vjs-big-play-centered vjs-fill" data-setup='{ "playbackRates": [0.5, 1, 1.5, 2] }'>
      Your browser does not support the video tag.
      <source src="/lessons/api/video/7.m3u8" type="application/x-mpegURL" />
      <track kind="subtitles" src="https://vnikay-dev.storage.yandexcloud.net/russiancourse/M01/L02/subtitles_03.vtt?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Date=20230413T053628Z&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Expires=86400&amp;X-Amz-Credential=Hm_j0W3MfuF8lw_fFiop%2F20230413%2Fru-central1%2Fs3%2Faws4_request&amp;X-Amz-Signature=11a9387052241b3e2da4bdec4e4c2eb7ecd8805b19efbfc94f72d1bf62a67ab2" srclang="ru" label="Русский" default>
     </video>
     <div class="lesson__item__arrows">
      <a href="#lesson-3" class="lesson__item__arrow lesson__item__arrow--next">
       <svg viewBox="0 0 53 54">
        <use xlink:href="images/second-sprite.svg#player-arrow-next" />
        </use>
       </svg>

      </a>
      <a href="#lesson-1" class="lesson__item__arrow lesson__item__arrow--prev">
       <svg viewBox="0 0 53 54">
        <use xlink:href="images/second-sprite.svg#player-arrow-prev" />
        </use>
       </svg>
      </a>
     </div>
    </div>
   </div>



  </section>
 </main>

 <footer class="footer">
  <div class="footer__links">
   <div class="footer__item">
    <a href="/start" class="footer__start">
     <span>Как начать</span>
    </a>
   </div>
   <div class="footer__item">
    <a href="/about" class="footer__about">
     <span>О проекте</span>
    </a>
   </div>

   <div class="footer__item">
    <a href="/materials" class="footer__agreement">
     <svg width="17" height="20" viewBox="0 0 17 20" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M2.04545 0.839844C1.19192 0.839844 0.5 1.53177 0.5 2.3853V17.0671C0.5 17.9206 1.19192 18.6126 2.04546 18.6126H12.8636C13.7172 18.6126 14.4091 17.9206 14.4091 17.0671V2.3853C14.4091 1.53177 13.7172 0.839844 12.8636 0.839844H2.04545ZM2.81818 3.15802C2.39142 3.15802 2.04545 3.50398 2.04545 3.93075C2.04545 4.35751 2.39142 4.70347 2.81818 4.70347H12.0909C12.5177 4.70347 12.8636 4.35751 12.8636 3.93075C12.8636 3.50398 12.5177 3.15802 12.0909 3.15802H2.81818ZM2.04545 7.79438C2.04545 7.36762 2.39142 7.02166 2.81818 7.02166H12.0909C12.5177 7.02166 12.8636 7.36762 12.8636 7.79438C12.8636 8.22115 12.5177 8.56711 12.0909 8.56711H2.81818C2.39142 8.56711 2.04545 8.22115 2.04545 7.79438ZM2.81818 10.8853C2.39142 10.8853 2.04545 11.2313 2.04545 11.658C2.04545 12.0848 2.39142 12.4307 2.81818 12.4307H12.0909C12.5177 12.4307 12.8636 12.0848 12.8636 11.658C12.8636 11.2313 12.5177 10.8853 12.0909 10.8853H2.81818Z" fill="#C9C9C9" />
      <mask id="path-2-outside-1_7301_10553" maskUnits="userSpaceOnUse" x="5.45508" y="8.11255" width="14" height="14" fill="black">
       <rect fill="white" x="5.45508" y="8.11255" width="14" height="14" />
       <path fill-rule="evenodd" clip-rule="evenodd" d="M12.4778 20.158C15.2518 20.158 17.5005 17.9093 17.5005 15.1353C17.5005 12.3613 15.2518 10.1125 12.4778 10.1125C9.70383 10.1125 7.45508 12.3613 7.45508 15.1353C7.45508 17.9093 9.70383 20.158 12.4778 20.158ZM11.7291 18.4332C11.7488 18.4093 11.7665 18.384 11.7822 18.3575C11.7915 18.3481 11.8005 18.3381 11.8092 18.3275L15.8073 13.4761C16.0044 13.2369 16.0044 12.8492 15.8073 12.6101C15.6102 12.3709 15.2907 12.3709 15.0936 12.6101L11.3688 17.13L9.86203 15.3016C9.66495 15.0624 9.34543 15.0624 9.14836 15.3016C8.95128 15.5407 8.95128 15.9284 9.14835 16.1676L11.0155 18.4332C11.2125 18.6723 11.532 18.6723 11.7291 18.4332Z" />
      </mask>
      <path fill-rule="evenodd" clip-rule="evenodd" d="M12.4778 20.158C15.2518 20.158 17.5005 17.9093 17.5005 15.1353C17.5005 12.3613 15.2518 10.1125 12.4778 10.1125C9.70383 10.1125 7.45508 12.3613 7.45508 15.1353C7.45508 17.9093 9.70383 20.158 12.4778 20.158ZM11.7291 18.4332C11.7488 18.4093 11.7665 18.384 11.7822 18.3575C11.7915 18.3481 11.8005 18.3381 11.8092 18.3275L15.8073 13.4761C16.0044 13.2369 16.0044 12.8492 15.8073 12.6101C15.6102 12.3709 15.2907 12.3709 15.0936 12.6101L11.3688 17.13L9.86203 15.3016C9.66495 15.0624 9.34543 15.0624 9.14836 15.3016C8.95128 15.5407 8.95128 15.9284 9.14835 16.1676L11.0155 18.4332C11.2125 18.6723 11.532 18.6723 11.7291 18.4332Z" fill="#C9C9C9" />
      <path d="M11.7822 18.3575L10.682 17.2721L10.5495 17.4065L10.4532 17.5688L11.7822 18.3575ZM11.7291 18.4332L12.9218 19.4161L12.9218 19.416L11.7291 18.4332ZM11.8092 18.3275L13.0018 19.3104L13.0019 19.3104L11.8092 18.3275ZM15.8073 13.4761L16.9999 14.4589L16.9999 14.4589L15.8073 13.4761ZM15.8073 12.6101L16.9999 11.6272L16.9999 11.6272L15.8073 12.6101ZM15.0936 12.6101L13.901 11.6272L15.0936 12.6101ZM11.3688 17.13L10.1761 18.1128L11.3688 19.56L12.5614 18.1128L11.3688 17.13ZM9.86203 15.3016L11.0547 14.3187V14.3187L9.86203 15.3016ZM9.14836 15.3016L10.341 16.2844L10.341 16.2844L9.14836 15.3016ZM9.14835 16.1676L10.341 15.1847L10.341 15.1847L9.14835 16.1676ZM11.0155 18.4332L9.8228 19.4161L9.82281 19.4161L11.0155 18.4332ZM15.9551 15.1353C15.9551 17.0557 14.3983 18.6125 12.4778 18.6125V21.7035C16.1053 21.7035 19.046 18.7628 19.046 15.1353H15.9551ZM12.4778 11.658C14.3983 11.658 15.9551 13.2148 15.9551 15.1353H19.046C19.046 11.5078 16.1053 8.56709 12.4778 8.56709V11.658ZM9.00053 15.1353C9.00053 13.2148 10.5574 11.658 12.4778 11.658V8.56709C8.8503 8.56709 5.90962 11.5078 5.90962 15.1353H9.00053ZM12.4778 18.6125C10.5574 18.6125 9.00053 17.0557 9.00053 15.1353H5.90962C5.90962 18.7628 8.8503 21.7035 12.4778 21.7035V18.6125ZM10.4532 17.5688C10.4765 17.5295 10.5041 17.4896 10.5365 17.4503L12.9218 19.416C12.9935 19.3291 13.0565 19.2386 13.1113 19.1462L10.4532 17.5688ZM10.6166 17.3446C10.6367 17.3202 10.6585 17.296 10.682 17.2721L12.8824 19.4429C12.9245 19.4002 12.9643 19.356 13.0018 19.3104L10.6166 17.3446ZM14.6146 12.4932L10.6166 17.3447L13.0019 19.3104L16.9999 14.4589L14.6146 12.4932ZM14.6146 13.5929C14.4553 13.3995 14.4096 13.1951 14.4096 13.0431C14.4096 12.8911 14.4553 12.6866 14.6146 12.4932L16.9999 14.4589C17.6674 13.649 17.6674 12.4372 16.9999 11.6272L14.6146 13.5929ZM16.2863 13.5929C16.1156 13.8001 15.8199 13.9762 15.4505 13.9762C15.081 13.9762 14.7853 13.8001 14.6146 13.5929L16.9999 11.6272C16.6322 11.181 16.0782 10.8853 15.4505 10.8853C14.8227 10.8853 14.2687 11.181 13.901 11.6272L16.2863 13.5929ZM12.5614 18.1128L16.2863 13.5929L13.901 11.6272L10.1761 16.1471L12.5614 18.1128ZM8.66938 16.2844L10.1761 18.1128L12.5614 16.1471L11.0547 14.3187L8.66938 16.2844ZM10.341 16.2844C10.1703 16.4916 9.87464 16.6677 9.50519 16.6677C9.13574 16.6677 8.84006 16.4916 8.66938 16.2844L11.0547 14.3187C10.6869 13.8725 10.1329 13.5768 9.50519 13.5768C8.87744 13.5768 8.32347 13.8725 7.95571 14.3187L10.341 16.2844ZM10.341 15.1847C10.5004 15.3781 10.546 15.5826 10.546 15.7346C10.546 15.8866 10.5004 16.091 10.341 16.2844L7.95571 14.3187C7.28823 15.1287 7.28822 16.3405 7.95571 17.1504L10.341 15.1847ZM12.2081 17.4503L10.341 15.1847L7.95571 17.1504L9.8228 19.4161L12.2081 17.4503ZM10.5365 17.4503C10.7072 17.2432 11.0028 17.0671 11.3723 17.0671C11.7417 17.0671 12.0374 17.2432 12.2081 17.4503L9.82281 19.4161C10.1906 19.8623 10.7445 20.158 11.3723 20.158C12 20.158 12.554 19.8623 12.9218 19.4161L10.5365 17.4503Z" fill="#292F34" mask="url(#path-2-outside-1_7301_10553)" />
     </svg>

     <span>Пользовательское соглашение</span>
    </a>
   </div>
   <div class="ageLimit">
    <svg viewBox="0 0 23 23">
     <use xlink:href="images/sprite.svg#icon_age-limit" />
    </svg>
   </div>
  </div>
  <div class="footer__delimiter"></div>
  <div class="footer__support">
   <div class="footer__support__contacts">
    <div class="footer__item footer__call">
     <a href="tel:8 495 969 7900">
      8 495 969 7900
     </a>
    </div>
    <div class="footer__item footer__mail">
     <a href="mailto:support@watchplayspeak.ru">
      support@watchplayspeak.ru
     </a>
    </div>
   </div>
   <div class="footer__time">С 06:00 до 18:00 в рабочие дни (время московское)</div>
  </div>
 </footer>









 <script>
  const locale = "ru";
  const studentLocale = null;

  let progressDone = 0;
  let progressTotal = 4;
  const doneSet = new Set();

  function throttle(func, timeFrame) {
   let lastTime = 0;
   return function(...args) {
    let now = new Date();
    if (now - lastTime >= timeFrame) {
     func(...args);
     lastTime = now;
    }
   };
  }

  function sendBookmark(bookmark, videoId) {
   let currentTime = this.currentTime();
   if (currentTime !== 0 && currentTime !== bookmark) {
    fetch(`/lessons/api/bookmark/${videoId}/${currentTime}`, {
      method: 'POST'
     })
     .then((response) => {
      return response.json();
     })
     .then((data) => {
      if (!doneSet.has(videoId)) {
       if (data.progress === 'Done') {
        document.getElementById(`play_icon_${videoId}`).style.display = 'none';
        document.getElementById(`pause_icon_${videoId}`).style.display = 'none';
        document.getElementById(`done_icon_${videoId}`).style.display = 'inline';
        doneSet.add(videoId);
        progressDone++;
        document.getElementById('progress_bar').style.width = `${(progressDone / progressTotal).toFixed(2) * 100}%`;
        document.getElementById('progress_text').textContent = `Пройдено ${progressDone} из ${progressTotal}`;
       } else {
        document.getElementById(`play_icon_${videoId}`).style.display = 'none';
        document.getElementById(`pause_icon_${videoId}`).style.display = 'inline';
        document.getElementById(`done_icon_${videoId}`).style.display = 'none';
       }
      }
     });
   }
  }

  [...document.getElementsByTagName('video')].forEach(function(video) {
   let videoId = video.dataset.id;
   let videoPlayer = videojs(video, {
    html5: {
     vhs: {
      overrideNative: true
     },
     nativeVideoTracks: false,
     nativeAudioTracks: false,
     nativeTextTracks: false
    }
   });
   videoPlayer.playsinline(true);


   videoPlayer.on('error', function(e) {
    e.stopImmediatePropagation();
   });
   let bookmark = parseFloat(video.dataset.bookmark);
   videoPlayer.currentTime(bookmark);
   if (video.dataset.progress === 'Done') {
    doneSet.add(videoId);
   }
   videoPlayer.ready(function() {
    this.on('timeupdate', throttle(() => sendBookmark.call(this, bookmark, videoId), 2500));
    this.on('ended', () => sendBookmark.call(this, bookmark, videoId));
   });
  });
 </script>



</body>

</html>
<script>
 const locale = "ru"; // Student or default locale(ru)
 const studentLocale = null; // Student locale or null

 let progressDone = 0;
 let progressTotal = 4;
 const doneSet = new Set();

 function throttle(func, timeFrame) {
  let lastTime = 0;
  return function(...args) {
   let now = new Date();
   if (now - lastTime >= timeFrame) {
    func(...args);
    lastTime = now;
   }
  };
 }

 function sendBookmark(bookmark, videoId) {
  let currentTime = this.currentTime();
  if (currentTime !== 0 && currentTime !== bookmark) {
   fetch(`https://dev.vnikay.ru/lessons/api/bookmark/${videoId}/${currentTime}`, {
     method: 'POST'
    })
    .then((response) => {
     return response.json();
    })
    .then((data) => {
     if (!doneSet.has(videoId)) {
      if (data.progress === 'Done') {
       document.getElementById(`play_icon_${videoId}`).style.display = 'none';
       document.getElementById(`pause_icon_${videoId}`).style.display = 'none';
       document.getElementById(`done_icon_${videoId}`).style.display = 'inline';
       doneSet.add(videoId);
       progressDone++;
       document.getElementById('progress_bar').style.width = `${(progressDone / progressTotal).toFixed(2) * 100}%`;
       document.getElementById('progress_text').textContent = `Пройдено ${progressDone} из ${progressTotal}`;
      } else {
       document.getElementById(`play_icon_${videoId}`).style.display = 'none';
       document.getElementById(`pause_icon_${videoId}`).style.display = 'inline';
       document.getElementById(`done_icon_${videoId}`).style.display = 'none';
      }
     }
    });
  }
 }

 [...document.getElementsByTagName('video')].forEach(function(video) {
  let videoId = video.dataset.id;
  let videoPlayer = videojs(video, {
   html5: {
    vhs: {
     overrideNative: true
    },
    nativeVideoTracks: false,
    nativeAudioTracks: false,
    nativeTextTracks: false
   }
  });
  videoPlayer.playsinline(true);

  videoPlayer.on('error', function(e) {
   e.stopImmediatePropagation();
  });
  let bookmark = parseFloat(video.dataset.bookmark);
  videoPlayer.currentTime(bookmark);
  if (video.dataset.progress === 'Done') {
   doneSet.add(videoId);
  }
  videoPlayer.ready(function() {
   this.on('timeupdate', throttle(() => sendBookmark.call(this, bookmark, videoId), 2500));
   this.on('ended', () => sendBookmark.call(this, bookmark, videoId));
  });
 });
</script>
</body>

</html>